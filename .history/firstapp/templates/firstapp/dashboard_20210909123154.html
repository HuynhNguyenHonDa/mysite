{% extends "firstapp/base.html" %}

{% block title %}
  <title>dashboard</title>
{% endblock title %}
      
{% block content %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

  <div class="content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-xl-4 col-lg-12">
        <div class="card card-chart">
          <div class="card-header card-header-success">
            <div class="ct-chart" id="dailySalesChart"></div>
          </div>
          <div class="card-body">
            <h4 class="card-title">Máy tính nhiễm Botnet</h4>
            <p class="card-category">
              <span class="text-success"><i class="fa fa-long-arrow-up"></i> 55% </span> increase in today sales.</p>
          </div>
          <div class="card-footer">
            <div class="stats">
              <i class="material-icons">access_time</i> updated 4 minutes ago
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-4 col-lg-12">
        <div class="card card-chart">
          <div class="card-header card-header-warning">
            <div class="ct-chart" id="websiteViewsChart"></div>
          </div>
          <div class="card-body">
            <h4 class="card-title">Đơn vị có máy tính nhiễm botnet</h4>
            <p class="card-category">Last Campaign Performance</p>
          </div>
          <div class="card-footer">
            <div class="stats">
              <i class="material-icons">access_time</i> campaign sent 2 days ago
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-4 col-lg-12">
        <div class="card card-chart">
          <div class="card-header card-header-danger">
            <div class="ct-chart" id="completedTasksChart"></div>
          </div>
          <div class="card-body">
            <h4 class="card-title">Các loại botnet thường gặp</h4>
            <p class="card-category">Last Campaign Performance</p>
          </div>
          <div class="card-footer">
            <div class="stats">
              <i class="material-icons">access_time</i> campaign sent 2 days ago
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-xl-4 col-lg-12">
        <canvas id="myChart" style="width:100%;max-width:600px;height: 270px;margin-bottom: 30px;"></canvas>
      </div>
      <div class="col-xl-4 col-lg-12">
        <canvas id="myChart1" style="width:100%;max-width:600px;height: 270px;margin-bottom: 15px;"></canvas>
      </div>
      <div class="col-xl-4 col-lg-12">
        <canvas id="myChart2" style="width:100%;max-width:600px;height: 270px;margin-bottom: 30px;"></canvas>
      </div>
    </div>
    <!-- bar -->
    <div class="row">
      <div class="col-xl-12 col-lg-12">
        <canvas id="barChart" style="width:100%;max-width:600px;height: 270px;margin-bottom: 15px;"></canvas>
      </div>
    </div>
    <!-- bar -->

    
    <div class="row">
      {% for item in qltb %}
      <div class="col-md-4">
        <p>{{ item.Ten_TB }}</p>
        <p>{{item.MAC_TB }}</p>
      </div>
      {% endfor %}
    </div>


    <div class="row">
      <div class="col-lg-12 col-md-12">
        <div class="card">
          <div class="card-header card-header-primary">
            <h4 class="card-title">Employees Stats</h4>
            <p class="card-category">New employees on 15th September, 2016</p>
          </div>
          <div class="card-body table-responsive">
            <table class="table table-hover">
              <thead class="text-warning">
                <th>ID</th>
                <th>Name</th>
                <th>Salary</th>
                <th>Country</th>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>Dakota Rice</td>
                  <td>$36,738</td>
                  <td>Niger</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>Minerva Hooper</td>
                  <td>$23,789</td>
                  <td>Curaçao</td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>Sage Rodriguez</td>
                  <td>$56,142</td>
                  <td>Netherlands</td>
                </tr>
                <tr>
                  <td>4</td>
                  <td>Philip Chaney</td>
                  <td>$38,735</td>
                  <td>Korea, South</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      
    </div>

    
  </div>
</div>





<script>
  var xValues = [{% for data in data %} '{{ data.TenDonVi }}', {% endfor %}];
  var yValues = [55, 49, 22, 24, 15, 22];
  var barColors = [
    "#b91d47",
    "#00aba9",
    "#2b5797",
    "#e8c3b9",
    "#1e7145",
    "#yellow",
  ];
  
  new Chart("myChart",{
    type: "pie",
    data: {
      labels: xValues,
      datasets: [{
        backgroundColor: barColors,
        data: yValues
      }]
    },
    options: {
      title: {
        display: true,
        text: "World Wide Wine Production 2018"
      }
    }
  });
  new Chart("myChart1",{
    type: "pie",
    data: {
      labels: xValues,
      datasets: [{
        backgroundColor: barColors,
        data: yValues
      }]
    },
    options: {
      title: {
        display: true,
        text: "World Wide Wine Production 2018"
      }
    }
  });
  new Chart("myChart2",{
    type: "pie",
    data: {
      labels: xValues,
      datasets: [{
        backgroundColor: barColors,
        data: yValues
      }]
    },
    options: {
      title: {
        display: true,
        text: "World Wide Wine Production 2018"
      }
    }
  });
  </script>

<script>
  var xValues = [{% for data in data %} '{{ data.TenDonVi }}', {% endfor %}];
  var yValues = [{% for data in data %} {{ data.id }}, {% endfor %}];
  var barColors = ["red", "green","blue","orange","blue", "yellow"];
  
  new Chart("barChart", {
    type: "bar",
    data: {
      labels: xValues,
      datasets: [{
        backgroundColor: barColors,
        data: yValues
      }]
    },
    options: {
      legend: {display: false},
      title: {
        display: true,
        text: "Top 10 máy tính truy vấn tên miền độc hại cao"
      }
    }
  });

  </script>
{% endblock content %}
 